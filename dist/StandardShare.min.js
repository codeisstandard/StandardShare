"use strict";var StandardShare=function(){function t(){$(a.list+" li").each(function(){if("copy-link"===$(this).data("standard-share")){var t=$(this).data("standard-link");"undefined"!=typeof ZeroClipboard&&(a.clipboardClient=new ZeroClipboard($(this)),a.clipboardClient.on("ready",function(){}),a.clipboardClient.on("copy",function(a){a.clipboardData.setData("text/plain",t)}),a.clipboardClient.on("error",function(){ZeroClipboard.destroy()}))}})}var a={list:".standard-share",closeList:null,clipboardClient:null},e={handleShare:function(t,a){var e=$(t).data("standard-share"),n=$(t).data("standard-link"),o=$(t).data("standard-message"),i=$(t).data("standard-subject")||"",r=$(t).data("standard-location")||"",d=$(t).data("standard-begin-date"),s=$(t).data("standard-end-date");switch(e){case"facebook":this.shareFacebook(n,o);break;case"twitter":this.shareTwitter(n,o);break;case"email":window.location.href="mailto:?subject="+i+"&body="+o+" "+encodeURIComponent(n);break;case"copy-link":break;case"calendar":this.addToCalendar(n,i,r,d,s)}a()},shareFacebook:function(t){var a=575,e=400,n=($(window).width()-a)/2,o=($(window).height()-e)/2,i="status=no,height="+e+",width="+a+",resizable=yes,left="+n+",top="+o+",screenX="+n+",screenY="+o+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no",r="http://www.facebook.com/sharer.php?u="+encodeURI(t)+"&t="+encodeURIComponent(document.title);window.open(r,"sharer",i)},shareTwitter:function(t,a){var e=575,n=400,o=($(window).width()-e)/2,i=($(window).height()-n)/2,r="status=1,width="+e+",height="+n+",top="+i+",left="+o,d="http://twitter.com/share?text="+a+"&url="+encodeURI(t);window.open(d,"twitter",r)},addToCalendar:function(t,a,e,n,o){var i=ics();i.addEvent(a,t,e,n,o),i.download(a)}};return{shareList:function(){var e=arguments[0]||{},n=e.list||a.list;return a.list=n,ZeroClipboard.destroy(),t(),this},bindEvents:function(){return $(a.list+" li").each(function(){$(this).on("click",function(){e.handleShare(this,function(){null!==a.closeList&&"function"==typeof a.closeList&&a.closeList()})})}),this},afterComplete:function(t){"function"==typeof t&&(a.closeList=t)}}}();StandardShare.VERSION="0.0.2";